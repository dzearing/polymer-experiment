<link rel="import" href="../bower_components/polymer/polymer.html" />

<polymer-element name="ms-header" attributes="color">

<template>
  <style>
  .header {
    display: block;
    position: relative;
    height: 40px;
    padding: 0 10px;
    line-height: 40px;
    vertical-align: baseline;
    white-space: nowrap;
    color: white;
  }


  .imgMask {
    display: inline-block;
    overflow: hidden;
  }

  .commandBar {
    display: inline-block;
    margin-left: 21px;
  }

  .command {
      float: left;
  }

  .command,
  .command:visited {
      display: inline-block;
      color: white;
      height: 40px;
      line-height: 40px;
      vertical-align: top;
      padding: 0 10px;
      text-decoration: none;
  }

  .command .imgMask {
    vertical-align: middle;
    margin-top: -4px;
  }

  .meBar {
      font-size: 86%;
      position: absolute;
      top: 0;
      right: 10px;
  }

  .meBar .command .imgMask {
      margin-top: -2px;
  }

  .command:hover {
      background: rgba(0,0,0,.2);
  }

  .command.icon {
      padding: 0 5px;
  }

  .dropDown {
      padding-left: 0;
  }

  :host .command.me img {
      width: 20px;
      height: 20px;
      position: relative;
      top: -1px;
      padding-left: 7px;
      vertical-align: middle;
  }

  :host .divider {
      height: 20px;
      line-height: 40px;
      width: 1px;
      border-left: 1px solid rgba(255,255,255,.65);

      padding-right: 8px;
      padding-left: -5px !important;
  }

  </style>
<div class="header" style="background-color: {{color}}">
  <a class="command" href="#">
    <img class="logo" src="/images/SkyDriveLogoLight.png">
  </a>

  <a class="command dropDown" href="#">
    <span class="divider"></span>
    <span class="imgMask" style="width: 11px; height: 9px; background-image: url('/images/c5.png'); background-position: -92px -33px"></span>
  </a>

  <div class="commandBar">
    <template repeat="{{ items }}">
      <a class="command" href="#">
        <template if="{{icon}}">
          <span class="imgMask" style="width: 26px; height: 26px; background-image: url('/images/{{ icon.url }}'); background-position: {{ icon.position }};"></span>
        </template>
        <span>{{ name }}</span>
        <template if="{{ children.length }}">
          <span class="imgMask" style="width: 8px; height: 8px; background-image: url('/images/c5.png'); background-position: -114px -33px;"></span>
        </template>
      </a>
    </template>
  </div>
  <div class="meBar">
    <a class="command icon" href="#">
      <span class="imgMask" style="width: 16px; height: 16px; background-image: url('/images/command2.png'); background-position: -109px 0"></span>
    </a>
    <a class="command icon" href="#">
      <span class="imgMask" style="width: 17px; height: 17px; background-image: url('/images/command2.png'); background-position: -126px -2px"></span>
    </a>
    <a class="command me" href="#">
      <span>David Zearing</span>
      <img src="/images/MeControlSmallUserTile.jpg">
    </a>
  </div>
</div>

</template>

<script src="ms-header.js"></script>
</polymer-element>